<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>로그인 성공 테스트 페이지 !!!</title>
</head>
<body>
<h1>로그인 성공 ! ! ! </h1>
<p>사용자 이름: <b th:text="${username}"></b></p>
<p>사용자 권한: <b th:text="${role}"></b></p>

<!-- ROLE_ADMIN에 따라 조건부 출력 -->
<p th:if="${role == 'ROLE_ADMIN'}">관리자 권한이 있습니다.</p>
<p th:if="${role == 'ROLE_USER'}">일반 사용자 권한이 있습니다.</p>

<button type="button"  id="logout-btn">로그아웃</button>
<h1>Welcome, <span th:text="${username}">User</span>!</h1>

<!-- 인증된 사용자만 볼 수 있는 부분 -->
<div sec:authorize="isAuthenticated()">
    인증된 사용자만 볼 수 있습니다.
</div>

<!-- 특정 권한이 있는 사용자만 볼 수 있는 부분 -->
<div sec:authorize="hasRole('ROLE_ADMIN')">
    관리자만 볼 수 있습니다.
</div>

<!-- 익명 사용자만 볼 수 있는 부분 -->
<div sec:authorize="isAnonymous()">
    로그인하지 않은 사용자만 볼 수 있습니다.
</div>

</body>
<script src="/js/token.js"></script>
<script src="/js/article.js"></script>
</html>
